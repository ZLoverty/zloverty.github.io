<!DOCTYPE html>

<head>
	<title> GNF evolution </title>
	<link rel="stylesheet" type="text/css" href="https://zloverty.github.io/main.css">
</head>
<body>
	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	<div id="header">
		<a href='https://zloverty.github.io/' ><img src="https://zloverty.github.io/icon2.svg" height=40px /></a>
		<div class='title'>
			<!-- Title of this page -->
			Density Fluctuation: Blogs
		</div>
	</div>
	<div class="navbar">
		<a href="https://zloverty.github.io/research/DF/">
			<div class="nbelement">Overview</div>
		</a>
		<a href="https://zloverty.github.io/research/DF/gallery">
			<div class="nbelement">Gallery</div>
		</a>
		<a href="https://zloverty.github.io/research/DF/progress">
			<div class="nbelement">Progress</div>
		</a>
    <a href="https://zloverty.github.io/research/DF/blogs">
			<div class="nbelement" id='hl'>Blog</div>
		</a>
		<a href="https://zloverty.github.io/research/DF/gallery">
			<div class="nbelement">
				<!-- navigation bar element name -->

			</div>
		</a>
	</div>
	<div id='main'>
		<div id='main-column-mid'>
			<!-- Title of this blog -->
			<h1> Evolution of giant number fluctuations with increasing swimmer velocity</h1>
				<p>Giant number fluctuation (GNF) is a key distinction of active matter compared to systems in equilibrium. Theories have predicted the deviation of number fluctuations in active matter in a quantitative way. Later on, the predictions are tested in experiment and were mostly true. Despite the success of the theories, the underlying mechanism of GNF still remains to be a hypothesis due to the difficulty of resolving individual active units and the interaction between individual active units in a crowded collection. A recent work by <a href='https://arxiv.org/abs/2003.12399'>Peng et al.</a> shows that in the transition to active turbulence, flow order and flow energy grow with different time scale. GNF also grows during the course of active turbulence transition, by look at the time scale of this transition, we could gain more insight into the mechanism of GNF.</p>


			<h2> Experiment </h2>

				<p>55 n\(_0\) light-controlled E. coli suspension is sealed into a glass slide chamber and put on microscope. The light voltage is increased from 0V to 12V at \(t=5s\). The video is shot at 10 fps and is played 20 times faster of real time (data 060232020/01).</p>
				<div id='figure'>
					<iframe width="640" height="376" src="https://www.youtube.com/embed/nQXKSiHEWLk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
				</div>
			<h2> Evolution analysis </h2>
				<div id='code-link'>
					Links: <a href='https://github.com/ZLoverty/Python/blob/master/Correlation/src/py_files/df2_kinetics.py'>code</a> <a href='https://github.com/ZLoverty/Python/blob/master/job_files/06232020/01.pbs'>job file</a>
				</div>

				<p>I use the temporal variance -> spatial average procedure to calculate the giant number flucutation exponents at each time interval of 100 frames (10 seconds). The result is shown below:</p>

				<div id='figure'>
					<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/400.png' width=80%>
					<div id='fig-cap'>Segment length = 100 frames</div>
				</div>

				<p> The evolving process can be seen clearly from the increase of \(\alpha\) after the light is on. However, the fluctuation magnitude at the "steady-state" is large and is not satisfactory. To explore whether the result can be presented better, I use various lengths of video to calculate \(\alpha\) over time (25, 50, 75 frames).</p>

				<div id='code-link'>
					Links: <a href='https://github.com/ZLoverty/Python/blob/master/job_files/06292020/00.pbs'>job file</a>
				</div>

				<div id='figure'>
					<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/vary_interval/i=25.png' width=80%>
					<div id='fig-cap'>Segment length = 25 frames</div>
				</div>

				<div id='figure'>
					<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/vary_interval/i=50.png' width=80%>
					<div id='fig-cap'>Segment length = 50 frames</div>
				</div>

				<div id='figure'>
					<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/vary_interval/i=75.png' width=80%>
					<div id='fig-cap'>Segment length = 75 frames</div>
				</div>

				<p> Turns out the varying segment length used to calculate the GNF evolution does not change the overall increasing-plateau trend. Among the four segment lengths, "25 frames" shows the largest fluctuation in the "plateau" regime, indicating that the length was too short so that the signal is subject to noise. Segment lengths 50, 75 and 100 (the first plot) shows similar fluctuations around plateau, among which "50 frames" gives the best temporal resolution. Hence, it is recommended to set egment length = 50 frames.</p>

			<h2> Flow energy and flow order </h2>
			<div id='code-link'>
				Links:
				<a href='https://github.com/ZLoverty/Python/blob/master/Correlation/src/py_files/energy_order.py'>energy/order code</a>
				<a href='https://github.com/ZLoverty/Python/blob/master/job_files/07022020/00.pbs'>job file</a>
			</div>
			<p>Following Peng's work, I compare the kinetics of GNF with that of flow energy and flow order. </p>
			<p>I calculate the flow energy using the formula, assuming the mass of the suspension \(m_i\) is the same at each location </p>
				$$ E = \frac{1}{n}\sum^n_{i=1} \frac{1}{2} \boldsymbol{v_i}^2$$
			<p>The flow order is defined in the following schematic</p>

			<div id='figure' >
				<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/energy_order.png' style='border-style: solid; border-width: 3px' width=80%>
			</div>

			<p>The evolution of flow energy, flow order and GNF together is shown in the plot below:</p>

			<div id='figure'>
				<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/kinetics_E_OP/60n0.png' width=80%>
			</div>

			<h2> Normalizing the image intensities </h2>

			<p> I noticed that the initial large value of \(\alpha\) is likely a result of overall illumination change. Hence, I modified the calculation of GNF by normalizing the original image intensity: </p>
			$$ I'=I/\langle I \rangle$$
			<p> as such, all the modified images now have the same average intensity 1, and the overall illumination variation cannot affect the calculation of \(\alpha\). </p>

			<div id='code-link'>
				Links:
				<a href='https://github.com/ZLoverty/Python/blob/master/Correlation/src/py_files/df2_kinetics.py'>modified kinetics code</a>
				<a href='https://github.com/ZLoverty/Python/blob/master/job_files/07062020/00.pbs'>job file</a>
				Note that the modified code has an additional argument "normalize" which takes value 0 or 1.
			</div>

			<p> The \(\alpha\) kinetics curve calculated from normalized images is shown below:</p>

			<div id='figure'>
				<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/kinetics_E_OP/60n0_norm.png' width=80%>
			</div>

			<p> The initial high \(\alpha\) is still there, because merely normalizing does not exclude the sudden change from a uniform no light image to an actual bacterial suspension image with large spatial variation in intensity.</p>

			<h2> Improve statistics </h2>

			<p> Previously, in order to avoid expensive computation, I set the step for sampling images at 1000 pixels, resulting in very few (4) samples per image. This made the \(\alpha\) signal noisy, especially the initial part. By reducing the step from 1000 to 500 pixels, the number of samples increases from 4 to 9 in each image. This has led to an improvement in the data, where the initial values of \(\alpha\) remains low until the increase of flow energy (see the plot below). </p>

			<div id='figure'>
				<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/kinetics_E_OP/60n0_sample-more.png' width=80%>
			</div>

			<p> I further decrease the step to 250 pixels, and let's see if it can reduce the fluctuations of \(\alpha\) further. See below:</p>

			<div id='figure'>
				<img src='https://zloverty.github.io/research/DF/img/gnf_evolution/kinetics_E_OP/60n0_36-samples.png' width=80%>
			</div>

			<p> turns out that smaller step does result in a smoother kinetics curve. </p>

			<p> The concentration effect data, which are surely affected by the lack of statistics, will be recalculated with 250-pixel step.</p>

			<div id='code-link'>
				job file: <a href='https://github.com/ZLoverty/Python/blob/master/job_files/07072020/00.pbs'>07072020/00.pbs</a>
			</div>
		</div>
	</div>


</body>
